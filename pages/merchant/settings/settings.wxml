<view class="container">
  <!-- 用户和店铺信息 -->
  <view class="profile-section">
    <view class="shop-card" bindtap="onEditShopInfo">
      <image wx:if="{{shopInfo.avatar || userInfo.avatar}}" class="shop-avatar" src="{{shopInfo.avatar || userInfo.avatar}}" />
      <view class="shop-info">
        <text class="shop-name">{{shopInfo.name || userInfo.nickname || '未设置店铺名称'}}</text>
        <text class="shop-phone" wx:if="{{userInfo.phone}}">手机号: {{userInfo.phone}}</text>
        <text class="shop-desc">{{shopInfo.description || '暂无店铺简介'}}</text>
      </view>
      <van-icon name="edit" size="16" />
    </view>

    <!-- 今日数据概览 -->
    <view class="stats-overview">
      <view class="stats-item">
        <text class="stats-value">{{todayStats.orderCount}}</text>
        <text class="stats-label">今日订单</text>
      </view>
      <view class="stats-item">
        <text class="stats-value">{{todayStats.sales}}</text>
        <text class="stats-label">今日销售额</text>
      </view>
      <view class="stats-item">
        <text class="stats-value">{{todayStats.viewCount}}</text>
        <text class="stats-label">今日浏览</text>
      </view>
      <van-button 
        size="mini" 
        type="default" 
        bindtap="onViewFullStats"
        class="view-more-btn"
      >
        查看详情
      </van-button>
    </view>
  </view>

  <!-- 功能菜单 -->
  <view wx:for="{{menuGroups}}" wx:key="title" class="menu-group">
    <view class="group-title">{{item.title}}</view>
    <view class="menu-list">
      <view 
        wx:for="{{item.items}}" 
        wx:for-item="menuItem" 
        wx:key="key"
        class="menu-item"
        data-key="{{menuItem.key}}"
        bindtap="onMenuTap"
      >
        <view class="item-icon">
          <van-icon name="{{menuItem.icon}}" size="20" />
        </view>
        <view class="item-content">
          <text class="item-title">{{menuItem.title}}</text>
          <text class="item-desc">{{menuItem.desc}}</text>
        </view>
        <van-icon name="arrow" size="16" color="#c8c9cc" />
      </view>
    </view>
  </view>

  <!-- 操作按钮 -->
  <view class="action-section">
    <van-button 
      type="default" 
      size="large" 
      bindtap="onSwitchToUser"
      custom-class="action-btn"
    >
      切换到用户端
    </van-button>
    
    <van-button 
      type="danger" 
      size="large" 
      bindtap="onLogout"
      custom-class="action-btn"
    >
      退出登录
    </van-button>
  </view>

  <!-- 版本信息 -->
  <view class="version-section">
    <text class="version-text">买不语商家版 v1.0.0</text>
    <view class="footer-links">
      <text class="footer-link" bindtap="onContactService">联系客服</text>
      <text class="footer-link" bindtap="onFeedback">意见反馈</text>
      <text class="footer-link" bindtap="onAbout">关于我们</text>
    </view>
  </view>

  <!-- 底部间距 -->
  <view class="bottom-space"></view>

  <!-- 商家端TabBar -->
  <merchant-tabbar current="{{tabbarCurrent}}" />
</view> 