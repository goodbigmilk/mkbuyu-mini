<view class="search-bar {{customClass}}">
  <view class="search-input-wrapper">
    <!-- æœç´¢å›¾æ ‡ -->
    <text class="search-icon" style="color: #969799; font-size: 16px;">ğŸ”</text>
    
    <!-- æœç´¢è¾“å…¥æ¡† -->
    <input 
      class="search-input"
      type="text"
      placeholder="{{placeholder}}"
      placeholder-class="search-placeholder"
      value="{{value}}"
      focus="{{focus}}"
      confirm-type="search"
      bindinput="onInput"
      bindconfirm="onConfirm"
      bindfocus="onFocus"
      bindblur="onBlur"
    />
    
    <!-- æ¸…é™¤æŒ‰é’® -->
    <view 
      class="clear-btn" 
      wx:if="{{showClear && value}}"
      bindtap="onClear"
    >
      <text style="color: #c8c9cc; font-size: 14px;">âœ•</text>
    </view>
  </view>
  
  <!-- å–æ¶ˆæŒ‰é’® */
  <view 
    class="cancel-btn" 
    wx:if="{{showCancel && (focused || value)}}"
    bindtap="onCancel"
  >
    å–æ¶ˆ
  </view>
  
  <!-- æœç´¢æŒ‰é’® -->
  <button 
    class="search-btn"
    wx:if="{{showSearchBtn}}"
    type="primary" 
    size="mini"
    bindtap="onSearch"
  >
    æœç´¢
  </button>
</view>

<!-- æœç´¢å»ºè®® -->
<view 
  class="search-suggestions" 
  wx:if="{{showSuggestions && suggestions.length && focused}}"
>
  <view 
    class="suggestion-item" 
    wx:for="{{suggestions}}" 
    wx:key="index"
    bindtap="onSuggestionTap"
    data-keyword="{{item}}"
  >
    <text style="color: #969799; font-size: 14px;">ğŸ”</text>
    <text class="suggestion-text">{{item}}</text>
  </view>
</view>

<!-- æœç´¢å†å² -->
<view 
  class="search-history" 
  wx:if="{{showHistory && history.length && focused && !value}}"
>
  <view class="history-header">
    <text class="history-title">æœç´¢å†å²</text>
    <text 
      style="color: #969799; font-size: 16px;"
      bindtap="onClearHistory"
    >ğŸ—‘ï¸</text>
  </view>
  
  <view class="history-tags">
    <view 
      class="history-tag" 
      wx:for="{{history}}" 
      wx:key="index"
      bindtap="onHistoryTap"
      data-keyword="{{item}}"
    >
      {{item}}
    </view>
  </view>
</view>

<!-- çƒ­é—¨æœç´¢ -->
<view 
  class="hot-searches" 
  wx:if="{{showHotSearches && hotSearches.length && focused && !value}}"
>
  <view class="hot-header">
    <text class="hot-title">çƒ­é—¨æœç´¢</text>
  </view>
  
  <view class="hot-tags">
    <view 
      class="hot-tag" 
      wx:for="{{hotSearches}}" 
      wx:key="index"
      bindtap="onHotSearchTap"
      data-keyword="{{item}}"
    >
      {{item}}
    </view>
  </view>
</view> 