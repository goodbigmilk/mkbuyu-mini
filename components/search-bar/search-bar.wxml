<view class="search-bar {{customClass}}">
  <view class="search-input-wrapper">
    <!-- 搜索图标 -->
    <text class="search-icon" style="color: #969799; font-size: 16px;">🔍</text>
    
    <!-- 搜索输入框 -->
    <input 
      class="search-input"
      type="text"
      placeholder="{{placeholder}}"
      placeholder-class="search-placeholder"
      value="{{value}}"
      focus="{{focus}}"
      confirm-type="search"
      bindinput="onInput"
      bindconfirm="onConfirm"
      bindfocus="onFocus"
      bindblur="onBlur"
    />
    
    <!-- 清除按钮 -->
    <view 
      class="clear-btn" 
      wx:if="{{showClear && value}}"
      bindtap="onClear"
    >
      <text style="color: #c8c9cc; font-size: 14px;">✕</text>
    </view>
  </view>
  
  <!-- 取消按钮 */
  <view 
    class="cancel-btn" 
    wx:if="{{showCancel && (focused || value)}}"
    bindtap="onCancel"
  >
    取消
  </view>
  
  <!-- 搜索按钮 -->
  <button 
    class="search-btn"
    wx:if="{{showSearchBtn}}"
    type="primary" 
    size="mini"
    bindtap="onSearch"
  >
    搜索
  </button>
</view>

<!-- 搜索建议 -->
<view 
  class="search-suggestions" 
  wx:if="{{showSuggestions && suggestions.length && focused}}"
>
  <view 
    class="suggestion-item" 
    wx:for="{{suggestions}}" 
    wx:key="index"
    bindtap="onSuggestionTap"
    data-keyword="{{item}}"
  >
    <text style="color: #969799; font-size: 14px;">🔍</text>
    <text class="suggestion-text">{{item}}</text>
  </view>
</view>

<!-- 搜索历史 -->
<view 
  class="search-history" 
  wx:if="{{showHistory && history.length && focused && !value}}"
>
  <view class="history-header">
    <text class="history-title">搜索历史</text>
    <text 
      style="color: #969799; font-size: 16px;"
      bindtap="onClearHistory"
    >🗑️</text>
  </view>
  
  <view class="history-tags">
    <view 
      class="history-tag" 
      wx:for="{{history}}" 
      wx:key="index"
      bindtap="onHistoryTap"
      data-keyword="{{item}}"
    >
      {{item}}
    </view>
  </view>
</view>

<!-- 热门搜索 -->
<view 
  class="hot-searches" 
  wx:if="{{showHotSearches && hotSearches.length && focused && !value}}"
>
  <view class="hot-header">
    <text class="hot-title">热门搜索</text>
  </view>
  
  <view class="hot-tags">
    <view 
      class="hot-tag" 
      wx:for="{{hotSearches}}" 
      wx:key="index"
      bindtap="onHotSearchTap"
      data-keyword="{{item}}"
    >
      {{item}}
    </view>
  </view>
</view> 